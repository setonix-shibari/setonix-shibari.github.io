{
  "hash": "c819dc86ec906673b1569a78707c891d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Image Creation Scripts\"\nexecute: \n  eval: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(webmorphR)\nwm_opts(fill = \"black\")\n```\n:::\n\n\n\n## Logo\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstim <- read_stim(\"../../s/emo-grid/\", \"happy\")\n\nadd_logo <- function(stim, \n                     logo_color = \"white\", \n                     logo_rotate = 0,\n                     logo_size = height(stim)/20,\n                     logo_offset = height(stim)*.015,\n                     gravity = \"northwest\",\n                     pad = 0) {\n\n  logo <- read_stim(\"../../s/logo/setonix-name.png\") |> \n    rep(length(stim)) |>\n    image_func(\"colorize\", opacity = 100, color = logo_color) |>\n    resize(height = logo_size) |>\n    rotate(logo_rotate, fill = \"#00000000\", keep_size = FALSE)\n  \n  offset <- sprintf(\"+%d+%d\", round(logo_offset), round(logo_offset))\n  \n  lapply(seq_along(stim), \\(i) {\n    x <- stim[[i]] |>\n      image_func(\"composite\", \n               composite_image = webmorphR:::get_imgs(logo[[i]]),\n               offset = offset[[i]],\n               gravity = gravity[[i]])\n    x[[1]]\n  }) |>\n    as_stimlist() |>\n    pad(pad, fill = logo_color)\n}\n\n\nlogo_stim <- add_logo(stim, \"goldenrod\", -90, pad = .01) |>\n  resize(height = 1000)\n\nlogo_stim\n```\n:::\n\n\n\n\n\n## HOT TO GO\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nchappel_colours <- rep(\n  c(\"#6E4787\", \"#EBA73F\", \"#EF86C8\"\n), times = c(3, 2, 2))\n\n# redorange = \"#771E15\", \n# blue = \"#173F75\",,\n# yellow = \"#EBA73F\" , \n# pink = \"#EF86C8\",\n# purple = \"#6E4787\"\n\norig <- read_stim(\"../../s/hottogo/\") |>\n  resize(height = 1000) |>\n  crop(height = 750, y_off = 100)\n```\n:::\n\n\n\n\n### Wide  \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nborder_fix <- rep(c(3/4, 1), times = c(3, 4))\n\nborders <- orig |>\n  pad(50 * border_fix, fill = chappel_colours)# |>\n # image_func(\"colorize\", opacity = 10, color = chappel_colours)\n\n\nhottogo <- plot_rows(borders[1:3], borders[4:7])\nwrite_stim(hottogo, \n           \"../www/images/hottogo/\", \n           \"hottogo-wide\", \n           format = \"jpg\", \n           overwrite = TRUE)\n```\n:::\n\n\n\n![](../www/images/hottogo/hottogo-wide.jpg)\n\n\n### Long\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nborder_fix <- rep(c(1, 2/3), times = c(3, 4))\n\nborders <- orig |>\n  pad(50 * border_fix, fill = chappel_colours)\n\nhottogo <- plot_rows(borders[1:3], borders[4:5], borders[6:7])\n\nwrite_stim(hottogo, \n           \"../www/images/composites/\", \n           \"hottogo-long\", \n           format = \"jpg\", \n           overwrite = TRUE)\n```\n:::\n\n\n\n\n\n![](../www/images/composites/hottogo-long.jpg)\n### Animated\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nborders <- orig |>\n  pad(50, fill = chappel_colours)\n\n# 140 bpm is 2.333 beats per second\nhottogo <- animate(borders, fps = 2.5)\n\nwrite_stim(hottogo, \n           \"../www/images/composites/\", \n           \"hottogo\", \n           format = \"gif\", \n           overwrite = TRUE)\n```\n:::\n\n\n\n\n![](../www/images/composites/hottogo.gif)\n\n## Black Rose\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbr <- read_stim(\"../../s/new/\") |>\n  resize(height = 1000)\n\nlogo_rotate <- c(0, 90, -90, -90, 90,\n                 0, -90, 0, -90, 90,\n                 0, 0, 90, 0, 0,\n                 0, -90, 0, -90, 0)\ngravity <- c(\"northwest\", \"southeast\", \"northwest\", \"southwest\", \"northeast\",\n             \"northwest\", \"southwest\", \"northwest\", \"northwest\", \"southeast\", \n             \"southwest\", \"southeast\", \"northeast\", \"southwest\", \"southwest\",\n             \"southeast\", \"southwest\", \"northwest\", \"southwest\", \"northwest\")\n\nbr_logo <- add_logo(br, \"firebrick4\", \n                    logo_rotate = logo_rotate, \n                    gravity = gravity)\n\nwrite_stim(br_logo, \"../www/images/ties/\", format = \"jpg\")\n```\n:::\n\n\n\n\n\n## Emo Grid\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nemos <- c(\"anger\", \"surprise\", \"happy\", \"disgust\", \"sad\", \"fear\")\nemo_colours <- c(\"firebrick4\", \"darkorange4\", \"goldenrod\", \n                 \"darkgreen\", \"dodgerblue4\", \"darkorchid4\") |>\n  sapply(color_conv, to = \"hex\")\n\nemo_imgs <- list()\n\nfor (i in 1:6) {\n  emo_imgs[[emos[i]]] <- read_stim(\"../../s/emo-grid/\", emos[i]) |>\n    resize(height = 1000) |>\n    image_func(\"colorize\", \n               opacity = 10, \n               color = emo_colours[i]) |>\n    pad(20, fill = emo_colours[i])\n}\n```\n:::\n\n\n\n### Logo\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfor (i in 1:6) {\n  emo_imgs[[emos[i]]] |>\n    resize(height = 1000) |>\n    add_logo(emo_colours[i], 0, logo_offset = 30, pad = 5) |>\n    write_stim(\"../www/images/ties/\", \n               format = \"jpg\", \n               overwrite = TRUE)\n}\n```\n:::\n\n\n\n\n### All 3\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nemo_all <- do.call(c, emo_imgs) |>\n  plot_stim(nrow = 3, byrow = FALSE)\n\nwrite_stim(emo_all, \n           \"../www/images/composites/\", \n           \"emo-grid\", \n           format = \"jpg\", \n           overwrite = TRUE)\n```\n:::\n\n\n\n![](../www/images/composites/emo-grid.jpg)\n\n### Ekman 6\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nemo_6 <- c(emo_imgs$anger[[3]],\n           emo_imgs$surprise[[1]],\n           emo_imgs$happy[[2]],\n           emo_imgs$disgust[[1]],\n           emo_imgs$sad[[3]],\n           emo_imgs$fear[[3]])\n\nplot_stim(emo_6, nrow = 2, \n          padding = 25, \n          external_pad = FALSE) |>\n  write_stim(\"../www/images/composites/\", \n             \"emo-6\", \n             format = \"jpg\", \n             overwrite = TRUE)\n```\n:::\n\n\n\n![](../www/images/composites/emo-6.jpg)\n\n### Animation\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nemo_6 |>\n  resize(height = 400) |>\n  animate(fps = 1) |>\n  write_stim(\"../www/images/gifs/\", \"emo_6\", format = \"gif\")\n```\n:::\n\n\n\n![](../www/images/gifs/emo_6.gif)\n\n### Back\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nback <- read_stim(\"../../s/emo-grid/back/\")|>\n    resize(height = 1000) |>\n    image_func(\"colorize\", \n               opacity = 10, \n               color = emo_colours) |>\n    pad(20, fill = emo_colours)\n\nback_grid <- plot_stim(back, \n                       nrow = 2, \n                       padding = 25, \n                       external_pad = FALSE)\n\nwrite_stim(back_grid, \n           \"../www/images/composites/\", \n           \"emo-back\", \n           format = \"jpg\", \n           overwrite = TRUE)\n```\n:::\n\n\n\n![](../www/images/composites/emo-back.jpg)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}